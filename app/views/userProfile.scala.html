@import models.user.User
@import models.mission.MissionTable
@(title: String, user: Option[User] = None)

@main(title) {
    @navbar(user)
    <script>$(document).ready(function(){
      $("#curb-ramp-row").mouseenter(function(){
        $("path[fill = 'rgba(241, 141, 5, 1)']").hide(); //Surface Problems
        $("path[fill = 'rgba(233, 39, 113, 1)']").hide(); //Missing Curb Ramp
        $("path[fill = 'rgba(0, 161, 203, 1)']").hide();  //Obstacles
      });
      $("#curb-ramp-row").mouseleave(function(){
        $("path[fill = 'rgba(241, 141, 5, 1)']").show();
        $("path[fill = 'rgba(233, 39, 113, 1)']").show();
        $("path[fill = 'rgba(0, 161, 203, 1)']").show();
      });

      $("#no-curb-ramp-row").mouseenter(function(){
        $("path[fill = 'rgba(241, 141, 5, 1)']").hide();
        $("path[fill = 'rgba(0, 222, 38, 1)']").hide(); //Curb Ramps
        $("path[fill = 'rgba(0, 161, 203, 1)']").hide();
      });
      $("#no-curb-ramp-row").mouseleave(function(){
        $("path[fill = 'rgba(241, 141, 5, 1)']").show();
        $("path[fill = 'rgba(0, 222, 38, 1)']").show();
        $("path[fill = 'rgba(0, 161, 203, 1)']").show();
      });

      $("#map-legend-obstacle-row").mouseenter(function(){
        $("path[fill = 'rgba(241, 141, 5, 1)']").hide();
        $("path[fill = 'rgba(233, 39, 113, 1)']").hide();
        $("path[fill = 'rgba(0, 222, 38, 1)']").hide();
      });

      $("#map-legend-obstacle-row").mouseleave(function(){
        $("path[fill = 'rgba(241, 141, 5, 1)']").show();
        $("path[fill = 'rgba(233, 39, 113, 1)']").show();
        $("path[fill = 'rgba(0, 222, 38, 1)']").show();
      });

      $("#map-legend-surface-problem-row").mouseenter(function(){
        $("path[fill = 'rgba(0, 222, 38, 1)']").hide();
        $("path[fill = 'rgba(233, 39, 113, 1)']").hide(); //Missing Curb Ramp
        $("path[fill = 'rgba(0, 161, 203, 1)']").hide();
      });

      $("#map-legend-surface-problem-row").mouseleave(function(){
        $("path[fill = 'rgba(0, 222, 38, 1)']").show();
        $("path[fill = 'rgba(233, 39, 113, 1)']").show(); //Missing Curb Ramp
        $("path[fill = 'rgba(0, 161, 203, 1)']").show();
      });

      $("#map-legend-audited-street-row").mouseenter(function(){
        $("path[fill = 'rgba(0, 222, 38, 1)']").hide();
        $("path[fill = 'rgba(233, 39, 113, 1)']").hide(); //Missing Curb Ramp
        $("path[fill = 'rgba(0, 161, 203, 1)']").hide();
          $("path[fill = 'rgba(241, 141, 5, 1)']").hide();
      });

      $("#map-legend-audited-street-row").mouseleave(function(){
        $("path[fill = 'rgba(0, 222, 38, 1)']").show();
        $("path[fill = 'rgba(233, 39, 113, 1)']").show(); //Missing Curb Ramp
        $("path[fill = 'rgba(0, 161, 203, 1)']").show();
          $("path[fill = 'rgba(241, 141, 5, 1)']").show();
      });

    });</script>
    <div class="container">
      <div class="row" id="maprow">
        <div class="col-lg-12" id="mapcolumn">
          <div id="map-holder">
            <div id="map"></div>
            <div id="map-label-legend">
              <table class="table table-hover", width = "100%", cellspacing = "100">
                  <tr><td rowspan = "2"></td><td><strong>Attribute Type</strong></td><td><strong>Total</strong></td><tr>
                  <tr id = "curb-ramp-row">
                      <td style ="padding-left: 20px" id="map-legend-curb-ramp"></td><td>Curb Ramps</td>
                      <td style = "padding-right: 20px padding-left: 20px" id="curb-ramps"></td>
                  </tr>
                  <tr id = "no-curb-ramp-row">
                    <td style ="padding-left: 20px" id="map-legend-no-curb-ramp"></td>
                    <td>Missing Curb Ramps</td><td style = "padding-right: 20px padding-left: 20px" id="missing-curb-ramps"></td>
                  </tr>
                  <tr id = "map-legend-obstacle-row">
                    <td style ="padding-left: 20px" id="map-legend-obstacle"></td>
                    <td>Obstacles in Path</td><td style = "padding-right: 20px padding-left: 20px" id="obstacles"></td>
                  </tr>
                  <tr id = "map-legend-surface-problem-row">
                    <td style ="padding-left: 20px" id="map-legend-surface-problem"></td>
                    <td>Surface Problems</td><td style = "padding-right: 20px padding-left: 20px" id="surface-problems"></td>
                  </tr>
                  <tr id = "map-legend-audited-street-row">
                    <td style ="padding-left: 20px" id="map-legend-audited-street"></td>
                    <td>Audited Street</td><td style = "padding-right: 20px padding-left: 20px" id="total-distance-audited"></td></tr>
                </table>
              </div>
            </div>
          </div>
        </div>
        <div class="row"><div class="spacer10"></div></div>
        <div class="row">
            <table class="table table-striped table-condensed">
                <tr>
                    <th>Total Distance Audited</th>
                    <th>Number of Missions Completed</th>
                </tr>
                <tr>
                    <td id="td-total-distance-audited"></td>
                    <td>@MissionTable.countCompletedMissionsByUserId(user.get.userId)</td>
                </tr>
            </table>
            <table class="table table-striped table-condesed">
                <tr>
                    <th>Attribute Type</th>
                    <th>Curb Ramps</th>
                    <th>Missing Curb Ramps</th>
                    <th>Obstacles</th>
                    <th>Surface Problems</th>
                </tr>
                <tr>
                    <td>Number of Labels</td>
                    <td id="td-number-of-curb-ramps"></td>
                    <td id="td-number-of-missing-curb-ramps"></td>
                    <td id="td-number-of-obstacles"></td>
                    <td id="td-number-of-surface-problems"></td>
                </tr>
            </table>
        </div>
        <div class="row">
            <table class="table table-striped table-condensed">
                <tr><th>Daily Contributions</th></tr>
                <tr><td><div id="audit-count-chart"></div></td></tr>
            </table>
        </div>
        <div class="row">
            <table class="table table-striped table-fixed">
                <thead>
                    <tr>
                      <td class="col-xs-6"><strong>Labels per Street</strong></td>
                    </tr>
                    <tr>
                    <td class="col-xs-1">Date</td>
                    <td class="col-xs-1">Curb Ramp</td>
                    <td class="col-xs-1">Missing Curb Ramp</td>
                    <td class="col-xs-1">Obstacle</td>
                    <td class="col-xs-1">Surface Problem</td>
                    <td class="col-xs-1">Other</td>
                </tr></thead>
                <tbody id="task-contribution-table" ></tbody>
            </table>
        </div>
    </div>
    <link href='@routes.Assets.at("stylesheets/c3.min.css")' rel="stylesheet"/>
    <script type="text/javascript" src='@routes.Assets.at("javascripts/lib/d3.v3.js")'></script>
    <script type="text/javascript" src='@routes.Assets.at("javascripts/lib/c3.min.js")'></script>
    <script type="text/javascript" src='@routes.Assets.at("javascripts/lib/underscore.min.js")'></script>
    <script type="text/javascript" src='@routes.Assets.at("javascripts/Progress/build/Progress.js")'></script>
    <script type="text/javascript" src='@routes.Assets.at("javascripts/userProfile.js")'></script>

    <script type="text/javascript" src='@routes.Assets.at("javascripts/SVLabel/src/SVLabel/util/Utilities.js")'></script>
    <script type="text/javascript" src='@routes.Assets.at("javascripts/SVLabel/src/SVLabel/util/UtilitiesSidewalk.js")'></script>
    <script type="text/javascript" src='@routes.Assets.at("javascripts/SVLabel/src/SVLabel/util/UtilitiesColor.js")'></script>
    <script type="text/javascript" src='@routes.Assets.at("javascripts/lib/turf.min.js")'></script>
    <link href='@routes.Assets.at("stylesheets/userProfile.css")' rel="stylesheet"/>
}
