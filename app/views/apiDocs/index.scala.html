@(activePage: String)(implicit request: RequestHeader, assets: AssetsFinder)

<!-- I asked Gemini to critique this draft and it had a number of good suggestions. See: https://g.co/gemini/share/758360010b46 -->

@content = {
<div class="api-section" id="introduction">
  <h1 class="api-heading" id="project-sidewalk-apis">Project Sidewalk APIs <a href="#project-sidewalk-apis" class="permalink">#</a></h1>
  <p>
    Project Sidewalk is a crowdsourcing + AI tool aimed at mapping and assessing sidewalk conditions in cities.
  </p>
  <p>
    All Project Sidewalk data is public and can be downloaded in popular formats like CSV, GeoJSON, or shape files or accessed
    programmatically via our APIs.
  </p>
  <h2 class="api-heading" id="data">Data Overview<a href="#data" class="permalink">#</a></h2>
  <p>You can download or programmatically access the following Project Sidewalk data.</p>
  <ul class="api-list">
    <li><a href="">Raw Labels</a></li>
    <li><a href="">Label Clusters</a></li>
    <li><a href="">Street Score</a></li>
    <li><a href="">Neighborhood Score</a></li>
    <li><a href="">Overall Stats</a></li>
    <li><a href="">User Stats</a></li>
  </ul>

  <p>We expand on each below. See the individual API pages (on the left sidebar) for details.</p>

  <h2 class="api-heading" id="labels">Labels<a href="#labels" class="permalink">#</a></h2>
  <p>Labels are the fundamental dataset in Project Sidewalk. Users navigate street view imagery and mark sidewalk
    features (like <i>curb ramps</i>) as well as barriers (like <i>surface problems</i>), which are then geo-located by our
    tool (<i>i.e.,</i> assigned a <code>lat,lng</code>). For each label, users can also
    provide tags, a severity rating, and an open-ended description.</p>
    
  <p>For quality control, labels are also validated by other users in tools like
    <a href="@routes.ValidateController.validate()">Validator</a>, <a href="@routes.ApplicationController.labelMap(None)">LabelMap</a>, 
    or <a href="@routes.ApplicationController.gallery()">Gallery</a>. You can filter labels by their validation ratings.</p>
  
  <div class="api-section" id="label-types-preview-section">
    <h3 class="api-heading" id="label-types">Label Types <a href="#label-types" class="permalink">#</a></h3>
    <p>Project Sidewalk has the following label types (this list is auto-generated from the <a href="@routes.ApiDocsController.labelTypes()">Label Types API</a>):</p>
    
    <div id="label-types-preview"></div>
    
    <link rel="stylesheet" href="@routes.Assets.versioned("stylesheets/api-docs/label-types.css")">
    <script src="@routes.Assets.versioned("javascripts/api-docs/label-types-preview.js")"></script>
    <script>
      // Initialize the label types preview
      document.addEventListener('DOMContentLoaded', function() {
        LabelTypesPreview.setup({
          maxWidth: 1000
        }).init();
      });
    </script>
  </div>

  <h3 class="api-heading" id="label-apis">Label Data APIs<a href="#label-apis" class="permalink">#</a></h3>
  <p>We provide two different label datasets.</p>
  <ul class="api-list">
    <li><a href=""><b>Raw Labels:</b></a> Individual geo-located labels provided by our users.</li>
    <li><a href=""><b>Label Clusters (recommended):</b></a> Because the same sidewalk feature/barrier could be labeled by multiple users or even the same user from different street view images (<i>i.e.,</i> from different perspectives), we use a custom clustering algorithm to group labels together.</li>
  </ul>

  <h2 class="api-heading" id="accessibility-scores">Accessibility Scores<a href="#accessibility-scores" class="permalink">#</a></h2>
  <p>Inspired by <a href="https://www.walkscore.com/">WalkScore</a>, we also compute an aggregate "accessibility" index based on Project Sidewalk data. These scoring algorithms are experimental. 
    You can compute your own scoring indices by using our Labels API.</p>
  <p>We provide two different scoring approaches.</p>
  
  <h3 class="api-heading" id="accessibility-score-apis">Accessibility Scores APIs<a href="#accessibility-score-apis" class="permalink">#</a></h3>
  <ul class="api-list">
    <li><b><a href="">StreetScore:</a></b> A score that represents the accessibility of individual streets based on the presence of barriers and features.</li>
    <li><b><a href="">NeighborhoodScore:</a></b> An aggregated score that represents the overall accessibility of neighborhoods.</li>
  </ul>

  <h2 class="api-heading" id="stats">Stats<a href="#stats" class="permalink">#</a></h2>
  <p>Finally, we also provide basic statistics about Project Sidewalk data and users.</p>
  <h3 class="api-heading" id="stats-apis">Stats APIs<a href="#stats-apis" class="permalink">#</a></h3>
  <ul class="api-list">
    <li><b><a href="">Overall Stats:</a></b> Basic data stats, including number of users, kilometers audited, label counts (broken down by label type), accuracy, severity.</li>
    <li><b><a href="">User Stats:</a></b> Basic user stats, including total labels placed, validations, meters explored. The IDs for users are anonymized but persist over time.</li>
  </ul>

</div>
}

@apiDocs.layout(activePage)(content)